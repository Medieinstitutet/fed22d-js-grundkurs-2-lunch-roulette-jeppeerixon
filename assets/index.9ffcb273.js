(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const i={lat:0,lng:0};let y;const s=[],g=document.querySelectorAll('input[name="distance"]'),u=document.querySelector("#slideRating"),h=document.querySelector("#showRating"),v=document.querySelector("#showMap"),S=document.querySelector("#roulette"),w=document.querySelector("#showResult"),a=document.querySelector("#resultInfo"),L=document.getElementById("map");let c,m,f;function b(e){e.currentTarget.checked&&(console.log(`You selected ${e.currentTarget.value}`),y=e.currentTarget.value)}function E(e){s.push(e.name);const n=`<h4>${e.name}</h4>Betyg: ${e.rating}<br>\xD6ppet nu: byt till openNow <br>`;if(!e.geometry||!e.geometry.location)return;const r=new google.maps.Marker({map:c,position:e.geometry.location});console.dir(e),google.maps.event.addListener(r,"click",()=>{f=new google.maps.InfoWindow({content:n,ariaLabel:n}),f.open({anchor:r,map:c})})}function k(e,n){if(n===google.maps.places.PlacesServiceStatus.OK)for(let r=0;r<e.length;r++)e[r].rating>=u.value&&E(e[r])}function x(){c=new google.maps.Map(document.getElementById("map"),{zoom:14,center:i}),new google.maps.Marker({position:i,map:c,icon:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",label:"X"});const e={location:i,radius:y,type:["restaurant"]};m=new google.maps.places.PlacesService(c),m.nearbySearch(e,k),S.style.display="block",L.scrollIntoView()}function R(){const e=s[Math.floor(Math.random()*s.length)];a.textContent=`Du ska \xE4ta p\xE5 ${e}`,a.scrollIntoView()}function q(){const e=u.value,n=Number(e).toFixed(1);h.textContent=n}function M(e){i.lat=e.coords.latitude,i.lng=e.coords.longitude,console.log(i.lat,i.lng)}function I(){a.textContent="Till\xE5t GPS f\xF6r att anv\xE4nda hemsidan!"}navigator.geolocation&&navigator.geolocation.getCurrentPosition(M,I);var p;for(let e=0;e<=g.length;e++)(p=g[e])==null||p.addEventListener("change",b);v.addEventListener("click",x);w.addEventListener("click",R);u.addEventListener("change",q);
