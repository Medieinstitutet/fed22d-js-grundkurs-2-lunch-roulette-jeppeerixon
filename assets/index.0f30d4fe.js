(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const i={lat:0,lng:0};let y;const s=[],d=document.querySelectorAll('input[name="distance"]'),a=document.querySelector("#slideRating"),h=document.querySelector("#showRating"),v=document.querySelector("#showMap"),w=document.querySelector("#roulette"),S=document.querySelector("#showResult"),g=document.querySelector("#resultInfo"),L=document.getElementById("map");let c,m,f;function k(e){e.currentTarget.checked&&(console.log(`You selected ${e.currentTarget.value}`),y=e.currentTarget.value)}function b(e){s.push(e.name);const n=`<h4>${e.name}</h4>Betyg: ${e.rating}<br>\xD6ppet nu: byt till openNow <br>`;if(!e.geometry||!e.geometry.location)return;const r=new google.maps.Marker({map:c,position:e.geometry.location});console.dir(e),google.maps.event.addListener(r,"click",()=>{f=new google.maps.InfoWindow({content:n,ariaLabel:n}),f.open({anchor:r,map:c})})}function R(e,n){if(n===google.maps.places.PlacesServiceStatus.OK)for(let r=0;r<e.length;r++)e[r].rating>=a.value&&b(e[r])}function q(){c=new google.maps.Map(document.getElementById("map"),{zoom:14,center:i}),new google.maps.Marker({position:i,map:c});const e={location:i,radius:y,type:["restaurant"]};m=new google.maps.places.PlacesService(c),m.nearbySearch(e,R),w.style.display="block",L.scrollIntoView()}function E(){const e=s[Math.floor(Math.random()*s.length)];g.textContent=`Du ska \xE4ta p\xE5 ${e}`,g.scrollIntoView()}function M(){const e=a.value,n=Number(e).toFixed(1);h.textContent=n}function I(e){i.lat=e.coords.latitude,i.lng=e.coords.longitude,console.log(i.lat,i.lng)}function x(){console.error("Kunde inte hitta din aktuella position.")}navigator.geolocation&&navigator.geolocation.getCurrentPosition(I,x);var p;for(let e=0;e<=d.length;e++)(p=d[e])==null||p.addEventListener("change",k);v.addEventListener("click",q);S.addEventListener("click",E);a.addEventListener("change",M);
