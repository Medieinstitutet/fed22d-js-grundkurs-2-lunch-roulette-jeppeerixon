(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const n={lat:0,lng:0};let l,c,u;function g(){l=new google.maps.Map(document.getElementById("map"),{zoom:14,center:n}),new google.maps.Marker({position:n,map:l});const r={location:n,radius:"500",type:["restaurant"]};c=new google.maps.places.PlacesService(l),c.nearbySearch(r,s);function i(t){const e=`<h4>${t.name}</h4>Betyg: ${t.rating}<br>\xD6ppet nu: byt till openNow <br>`;if(!t.geometry||!t.geometry.location)return;const o=new google.maps.Marker({map:l,position:t.geometry.location});console.dir(t),google.maps.event.addListener(o,"click",()=>{u=new google.maps.InfoWindow({content:e,ariaLabel:e}),u.open({anchor:o,map:l})})}function s(t,e){if(e===google.maps.places.PlacesServiceStatus.OK)for(let o=0;o<t.length;o++)t[o].rating>=4&&i(t[o])}}function d(r){n.lat=r.coords.latitude,n.lng=r.coords.longitude,console.log(n.lat,n.lng),g()}function f(){console.error("Kunde inte hitta din aktuella position.")}navigator.geolocation&&navigator.geolocation.getCurrentPosition(d,f);
