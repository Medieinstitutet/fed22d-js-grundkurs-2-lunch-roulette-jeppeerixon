(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const i={lat:0,lng:0};let s;const a=[],d=document.querySelectorAll('input[name="distance"]'),p=document.querySelector("#slideRating"),y=document.querySelector("#showMap"),h=document.querySelector("#roulette"),v=document.querySelector("#showResult"),S=document.querySelector("#resultInfo");let l,g,f;function w(e){e.currentTarget.checked&&(console.log(`You selected ${e.currentTarget.value}`),s=e.currentTarget.value)}function k(e){a.push(e.name);const r=`<h4>${e.name}</h4>Betyg: ${e.rating}<br>\xD6ppet nu: byt till openNow <br>`;if(!e.geometry||!e.geometry.location)return;const n=new google.maps.Marker({map:l,position:e.geometry.location});console.dir(e),google.maps.event.addListener(n,"click",()=>{f=new google.maps.InfoWindow({content:r,ariaLabel:r}),f.open({anchor:n,map:l})})}function L(e,r){if(r===google.maps.places.PlacesServiceStatus.OK)for(let n=0;n<e.length;n++)e[n].rating>=p.value&&k(e[n])}function b(){l=new google.maps.Map(document.getElementById("map"),{zoom:14,center:i}),new google.maps.Marker({position:i,map:l});const e={location:i,radius:s,type:["restaurant"]};console.log(s),console.log(p.value),g=new google.maps.places.PlacesService(l),g.nearbySearch(e,L),h.style.display="block"}function M(){const e=a[Math.floor(Math.random()*a.length)];S.textContent=`Du ska \xE4ta p\xE5 ${e}`}function q(e){i.lat=e.coords.latitude,i.lng=e.coords.longitude,console.log(i.lat,i.lng)}function E(){console.error("Kunde inte hitta din aktuella position.")}navigator.geolocation&&navigator.geolocation.getCurrentPosition(q,E);var m;for(let e=0;e<=d.length;e++)(m=d[e])==null||m.addEventListener("change",w);y.addEventListener("click",b);v.addEventListener("click",M);
